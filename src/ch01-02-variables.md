# Chapter 1.2

> 변수

프로그래밍은 변수에서 시작해서 변수에서 끝난다. 변수를 쓰면서 실수하지 않도록 하는 게 중요하다.

## 잘못된 변수 사용을 찾아라.

몇 가지 유형이 있다.

C, C++: 변수 재정의, 그림자 분신술
NullReferenceError: 10억짜리 실수
이상, 이하, 초과, 미만

### 초기화되지 않은 변수

초기화되지 않은 변수는 예측하기 힘든 결과를 내놓는다. 이 경우, 특히나 로컬 환경에서는 아무 문제 없이 돌아가는 경우가 많아서 더욱 찾기 힘들다.

- 틀렸습니다: 값이 단지 잘못되었거나
- 시간 초과:  while 문 등에서 i--를 썼는데 애초에 음수였거나
- 메모리 초과: 재귀 함수나 반복문을 탈출하지 못해 너무 많이 할당되거나
- OutOfIndex: 너무 먼 위치를 찾아가거나
- Seg Fault: 전혀 예상하지 못한 위치를 찾아가거나

특히 제대로 초기화되지 않은 포인터, 참조자는 실제로 심각한 결함, 보안 문제 등으로 이어질 수 있다. 

결과만 놓고는 초기화되지 않았음을 알아차리기 어렵다.

#### 잘못된 변수 사용

가로, 세로 인덱스가 바뀌어 있거나 i, j 등을 잘못 썼다. 이 경우도 다소 예측하기 어려운 결과를 내놓을 수 있다.

- 틀렸습니다: 잘못된 위치를 찾아가거나
- OutOfIndex: 너무 먼 위치를 찾아가거나
- Seg Fault: 전혀 예상하지 못한 위치를 찾아가거나

#### 그림자 분신술: 재정의된 변수 사용

분명 코드의 모든 흐름이 잘 돌아가는 것 같은데, 이상하게 어떤 변수는 값이 변하지 않을 때가 있다. 다시 찾아보면 같은 이름의 변수를 다시 만들어 쓰면서, 그 변수의 값을 바꾸고 있다. 이를 shadowing이라 하는데, 가독성 높은 코드를 작성하게 해주는 유용한 도구인 동시에 코드를 정말 귀신이 곡할 노릇으로 만들어버리기도 한다. 예를 들면,

- c 등에서 scope 안에 다시 변수를 선언한 경우

```cpp
int c = 0;

while (1) {
    int a = 0, b = 0, c; // 분신술!
    // ...
    c = d;
}

cout << c;
```

코드가 짧아서 찾기 쉽게 느껴지겠지만, 조금만 길어져도 잘 보이지 않는다.

- python 함수 안에서 변수에 값을 할당한 경우

보통 python의 변수 선언 규칙에 익숙하지 않을 때에 한해 드물게 발생한다. python에서 scope 밖에 있는 변수를 쓰고 싶다면 반드시 쓰겠다고 알려야 한다.

#### 출력문 오타

찾고나면 가장 허탈한 경우. 분명 로직은 맞는데 왜 자꾸 답이 틀렸다고 하여 답답해질 수 있다.

- 대소문자를 잘못 썼거나
- data - date, text - test 등 헷갈려 잘못 썼거나
- 띄워쓰기를 잘못 했거나
- 1-base인데 0-base를 썼거나

